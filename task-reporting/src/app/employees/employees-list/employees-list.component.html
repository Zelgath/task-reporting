<tr-header>
    <p levels>Employees</p>

    <div content>
        <p>LOREM IPSUM</p>
    </div>
</tr-header>

<div class="container">
    <div class="row">
        <div class="col-sm-12">
            <table *ngIf="employees && employees.length > 0; else noEmployeesInfo" class="tr-table table">
                <thead>
                    <tr>
                        <th>employee</th>
                        <th>unit</th>
                        <th>position</th>
                        <th>Department Id</th>
                        <th>salary</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="employee-list-table-row" *ngFor="let employee of employees;let i = index" [routerLink]="['/employees', employee.id]">
                        <td > {{ employee?.firstName }} {{ employee?.lastName }}</td>
                        <td> {{ employee?.phoneNumber | phoneNumberFormatting }} </td>
                        <td> {{ employee?.jobId | jobIdFormatting}} </td>
                        <td> {{ employee?.departmentId }} </td>
                        <td> {{ employee?.salary }}</td>
                    </tr>
                </tbody>
            </table>
            <ng-template #noEmployeesInfo>
                <div class="no-employees-info">
                    <p> Currently no Employees in service</p>
                </div>
            </ng-template>
        </div>
    </div>
    <tr-average-salary  *ngIf="employees && employees.length > 0;" [averageSalary]="averageSalary" (shownAverageSalary)="onShownAverageSalary($event)"></tr-average-salary>
    <div class="row" *ngIf="averageSalary && isAverageSalaryToShowInitialized">
        <div class="col-sm-12">
            <div class="average-salary">
                <p class="text-right">AVERAGE SALARY: {{ averageSalaryToShow | number}} PLN
                <button class="btn btn-danger btn-sm float-left" (click)="hideAverageSalary()">HIDE AVERAGE SALARY</button>
            </p>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12">
            <div class="empty-space">
                <p class="float-right">This is employee list</p>
            </div>
        </div>
    </div>
    
</div>
